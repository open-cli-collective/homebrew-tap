# This file was generated by GoReleaser. DO NOT EDIT.
cask "jtk" do
  name "jtk"
  desc "Command-line interface for Jira Cloud"
  homepage "https://github.com/open-cli-collective/atlassian-cli"
  version "1.0.19"

  livecheck do
    skip "Auto-generated on release."
  end

  binary "jtk"

  on_macos do
    on_intel do
      url "https://github.com/open-cli-collective/atlassian-cli/releases/download/v#{version}/jtk_#{version}_darwin_amd64.tar.gz"
      sha256 "0cbeae414f56894553454422083576516696503aa99d9fad9c5ca22555e49053"
    end
    on_arm do
      url "https://github.com/open-cli-collective/atlassian-cli/releases/download/v#{version}/jtk_#{version}_darwin_arm64.tar.gz"
      sha256 "588150ba79770810cac3ee941e9565d5fd0adc3ab67c1866773b084d20799031"
    end
  end

  on_linux do
    on_intel do
      url "https://github.com/open-cli-collective/atlassian-cli/releases/download/v#{version}/jtk_#{version}_linux_amd64.tar.gz"
      sha256 "f88fec476b39fa8e8840ad4cbd6c5fa83436147d1418882039853e9c6e11c26f"
    end
    on_arm do
      url "https://github.com/open-cli-collective/atlassian-cli/releases/download/v#{version}/jtk_#{version}_linux_arm64.tar.gz"
      sha256 "1e75c0e3584276adf9ce49de4fd8f7b4657d2904e3b0e0db0b21eb732bd40fd7"
    end
  end

  postflight do
    system_command "/usr/bin/xattr", args: ["-dr", "com.apple.quarantine", "#{staged_path}/jtk"]
  end

  caveats do
    "jtk has been installed."
    ""
    "To configure, run:"
    "  jtk config set --domain DOMAIN --email EMAIL --token TOKEN"
    ""
    "Get your API token from: https://id.atlassian.com/manage-profile/security/api-tokens"
  end

  # No zap stanza required
end
